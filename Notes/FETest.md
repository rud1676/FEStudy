# FETest

> author: @rud1676

- [FrontEnd에게 테스트란?](#fe에서-테스트란)
  - [유닛테스트](#유닛테스트)
  - [통합테스트](#통합테스트)
  - [엔드투엔드 테스트](#엔드투엔드-테스트)
  - [스냅샷 테스트](#스냅샷-테스트)
  - [비주얼 회귀 테스트](#비주얼-회귀-테스트)
- [테스트의 접근방식](#테스트의-접근방식)
  - [지속적 통합](#지속적-통합)
  - [코드 커버리지](#코드-커버리지)
  - [테스트 주도 개발 (Test-Driven Development, TDD)](#테스트-주도-개발-test-driven-development-tdd)

---

> author:rud1676

## FE에서 테스트란?

먼저 FrontEnd의 개발 특성을 이해해야한다.

1. 다양한 사용자의 요구사항을 고려해야한다.
2. 사용자와 인터페이스와 사용자 경험이 다양하다.

따라서 위의 두가지를 검증하기 위해 테스트를 진행한다. 즉,

사용자 경험이나 사용자 요구사항이 "설계대로" 잘 작동하는지 확인하는 것이다. 따라서 테스트를 할때 5가지의 기준으로 생각하며 진행하는 것이 좋다.

1. 품질 보증
2. 사용자 경험 개선
3. 개발 프로세스 최적화
4. 유지보수 용이성
5. 팀 협업 강화

## Nodejs의 테스트 도구들

- Jest: facebook에서 만든 테스트도구 -> zero config를 추구해 별다른 설정 없이 바로 테스트 가능.
- storybook:

## Jest기본 사용법.

1. \_\_test\_\_ 폴더 안에 실행할 테스트 파일을 넣는다.(jest 명령을 치면 모두 실행한다.) or \*.test.js파일을 둔다. 이것또한 모두 실행한다.
2. test함수를 작성한다.

```js
import fn from "./fn"; //test 할 함수를 불러온다.

test("1은 1이야 - 테스트 제목(명확해야한다. 콘솔에서 이부분이 뜬다.)", () => {
  expect(fn(1)).toBe(1);
});

test("1은 2가 아니야 - 테스트 제목(명확해야한다. 콘솔에서 이부분이 뜬다.)", () => {
  expect(fn(1)).not.toBe(1);
});
```

> 테스트 전후에 해줘야될 작업이 있다면..
> beforeEach() => 테스트 전에 실행되는 함수, afterEach()=>테스트 후에 실행되는 함수
> 최초에 한번, 최후에 한번 => beforeAll, afterAll
> 왜쓰는가? => 테스트할 때 디비 연결하고 디비 해제하고 이런걸 하기 위해!

### 유닛테스트

또다른 말로 단위 테스트라고 한다. 소스코드의 '개별단위'를 테스트하여 준비가 되었는지 확인하는 테스트 방법임.

메서드를 테스트하는 메서드다!

이때 **단위테스트를 진행하기 위한 조건**이 있다. 함수(테스트단위)가 아래 조건을 만족해야한다.

1. 독립적이어야한다. - 다른 테스트에 의존적이지 않아야된다.
2. 격리되어야 한다. - Axios등 대상이 의존하는 것을 다른 것으로 대체해야 한다.

> 단위테스트를 왜 사용하는가?
> 서비스가 클수록 로컬에서 내가 짠 코드를 직접 실행시키기 어렵다. (main함수를 임의로 만들고 어쩌구 하는것도 참 어렵다.)
> 또는 디비와 연결된 데이터를 처리하는 로직이라면 그것 또한 실제로 실행시키기가 어렵다.

```js

```

### 통합테스트

단위테스트 모두 통과했을 때 이 모듈들을 한꺼번에 실행한다!

1. 모듈들의 상호작용이 잘 이루어지는가?
2. 통합하는 과정에서 오류가 나는가?

를 찾아본다.

### 엔드투엔드 테스트

어플리케이션을 사용자 관점에서 "전체적"으로 테스트하는 것이 목표이다. 즉, 완성이 되고 전체적으로 테스트한다.

ChatGPT에게 물어보았다.

> 그에 따른 도구는 Node패키지의 Puppeteer는 크롬 브라우저를 제어하는 Node 라이브러리로
> Jest와 함께 사용하여 브라우저에서의 E2E 테스트를 수행할 수 있습니다. 이 방식을 사용하면 Jest의 테스팅 기능과 Puppeteer의 브라우저 제어 기능을 결합하여, 강력한 E2E 테스팅 환경을 구축할 수 있습니다.
> 엔드투엔드 테스트를 위한 툴을 선택할 때는, 프로젝트의 요구사항과 팀의 경험, 기존의 인프라와의 호환성 등을 고려하여 결정하는 것이 중요합니다.

즉, 프론트 개발단에서만 하는게 아닌 서비스를 이루는 전체적인 관점에서 고려하여 EtoE테스트를 진행한다.

### 스냅샷 테스트

성공하는 케이스를 "찍어두고!!" 비교합니다.

따라서 성공 실패를 스냅샷과 비교해 다르면 실패, 같으면 성공입니다!

### 비주얼 회귀 테스트

> 비주얼 회귀 테스트는 주로 사용자 인터페이스의 시각적 변화를 감지하는 테스트.

## 테스트의 접근방식

테스트를 효과적으로 수행하기 위한 방법들.

(코드를 예시로 듭니다. travel앱으로 한번 예시를 들어보자.)

### 코드 커버리지

### 지속적 통합

### 테스트 주도 개발 (Test-Driven Development, TDD)
